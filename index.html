<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç”Ÿæ—¥å¿«ä¹ï¼æˆ‘æœ€å¿ƒçˆ±çš„å°çŒªï¼</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
    <script src="https://unpkg.com/@lottiefiles/dotlottie-wc@0.6.2/dist/dotlottie-wc.js" type="module"></script>
</head>
<body>
    <!-- ç²’å­èƒŒæ™¯ -->
    <div id="particles-js"></div>
    
    <!-- ä¸»å†…å®¹å®¹å™¨ -->
    <div class="container">
        <!-- å¤´éƒ¨ -->
        <header>
            <h1 id="birthday-wish">ç”Ÿæ—¥å¿«ä¹ï¼æˆ‘æœ€å¿ƒçˆ±çš„å°çŒªï¼</h1>
            <div class="birthday-countdown">
                <span id="days"></span>
                <span id="hours"></span>
                <span id="minutes"></span>
                <span id="seconds"></span>
            </div>
        </header>
        
        <!-- ä¸»è¦ä¿¡æ¯åŒºåŸŸ -->
        <main>
            <!-- çˆ±å¿ƒå›¾ç‰‡ -->
            <!-- <div class="heart-container">
                <div class="heart"></div>
            </div> -->
            
            <!-- LottieåŠ¨ç”» -->
            <!-- <div style="display: flex; justify-content: center; margin: 2rem 0;">
                <dotlottie-wc src="https://lottie.host/8b1de420-fbf3-4ff9-984e-04558d5acd67/1Kv8WlDvQq.lottie" style="width: 300px; height: 300px" speed="1" autoplay loop></dotlottie-wc>
            </div> -->
            <!-- çˆ±å¿ƒå›¾ç‰‡å’ŒåŠ¨ç”»åŒºåŸŸ -->
            <div style="display: flex; justify-content: center; align-items: center; gap: 60px; margin-bottom: 3rem;">
    <!-- LottieåŠ¨ç”» - ä½äºçˆ±å¿ƒå·¦ä¾§ -->
                <div style="width: 300px; height: 300px;">
                    <dotlottie-wc src="https://lottie.host/8b1de420-fbf3-4ff9-984e-04558d5acd67/1Kv8WlDvQq.lottie" style="width: 100%; height: 100%;" speed="1" autoplay loop></dotlottie-wc>
                </div>
    
    <!-- çˆ±å¿ƒå›¾ç‰‡ -->
                <div class="heart-container">
                    <div class="heart"></div>
                </div>
                
    <!-- LottieåŠ¨ç”» - ä½äºçˆ±å¿ƒå³ä¾§ -->
                <div style="width: 300px; height: 300px;">
                    <dotlottie-wc src="https://lottie.host/8aca5568-0b0f-4ae3-b332-12ba66e598c8/o2Awh0NJVh.lottie" style="width: 100%; height: 100%;" speed="1" autoplay loop></dotlottie-wc>
                </div>
            </div>
            
            <!-- ç…§ç‰‡å±•ç¤ºåŒºåŸŸå’Œç”œè¨€èœœè¯­ -->
            <div class="content-wrapper">
                <!-- ç…§ç‰‡å±•ç¤ºåŒºåŸŸ -->
                <div class="photo-placeholder" id="slideshow-container">
                    <img src="./images/IMG20250711195431.jpg" class="slideshow-image active" alt="æˆ‘ä»¬çš„ç…§ç‰‡1">
                    <img src="./images/IMG20250711195828.jpg" class="slideshow-image" alt="æˆ‘ä»¬çš„ç…§ç‰‡2">
                    <img src="./images/IMG20250712105839.jpg" class="slideshow-image" alt="æˆ‘ä»¬çš„ç…§ç‰‡3">
                    <img src="./images/IMG20250712110044.jpg" class="slideshow-image" alt="æˆ‘ä»¬çš„ç…§ç‰‡4">
                    <img src="./images/IMG20250712110057_01.jpg" class="slideshow-image" alt="æˆ‘ä»¬çš„ç…§ç‰‡5">
                    <img src="./images/IMG20250712110117.jpg" class="slideshow-image" alt="æˆ‘ä»¬çš„ç…§ç‰‡6">
                    <img src="./images/IMG20250712110155_01.jpg" class="slideshow-image" alt="æˆ‘ä»¬çš„ç…§ç‰‡7">
                    <img src="./images/IMG20250712110540.jpg" class="slideshow-image" alt="æˆ‘ä»¬çš„ç…§ç‰‡8">
                    <img src="./images/IMG20250712123717.jpg" class="slideshow-image" alt="æˆ‘ä»¬çš„ç…§ç‰‡9">
                    <img src="./images/IMG20250712123747_01.jpg" class="slideshow-image" alt="æˆ‘ä»¬çš„ç…§ç‰‡10">
                    <img src="./images/IMG20250712124315.jpg" class="slideshow-image" alt="æˆ‘ä»¬çš„ç…§ç‰‡11">
                    <img src="./images/IMG20250712124321.jpg" class="slideshow-image" alt="æˆ‘ä»¬çš„ç…§ç‰‡12">
                    <img src="./images/IMG20250712125020.jpg" class="slideshow-image" alt="æˆ‘ä»¬çš„ç…§ç‰‡13">
                    <img src="./images/IMG20250712130127.jpg" class="slideshow-image" alt="æˆ‘ä»¬çš„ç…§ç‰‡14">
                    <img src="./images/IMG20250712130158.jpg" class="slideshow-image" alt="æˆ‘ä»¬çš„ç…§ç‰‡15">
                    <img src="./images/IMG20250712130249.jpg" class="slideshow-image" alt="æˆ‘ä»¬çš„ç…§ç‰‡16">
                    <img src="./images/IMG20250712130409.jpg" class="slideshow-image" alt="æˆ‘ä»¬çš„ç…§ç‰‡17">
                    <img src="./images/IMG20250712130600.jpg" class="slideshow-image" alt="æˆ‘ä»¬çš„ç…§ç‰‡18">
                    <img src="./images/IMG20250712130716.jpg" class="slideshow-image" alt="æˆ‘ä»¬çš„ç…§ç‰‡19">
                    <img src="./images/IMG20250713115400.jpg" class="slideshow-image" alt="æˆ‘ä»¬çš„ç…§ç‰‡20">
                    <img src="./images/IMG_20250712_170412.jpg" class="slideshow-image" alt="æˆ‘ä»¬çš„ç…§ç‰‡21">
                    <img src="./images/mmexport1753857936715.jpg" class="slideshow-image" alt="æˆ‘ä»¬çš„ç…§ç‰‡22">
                </div>
                
                <!-- ç”œè¨€èœœè¯­ -->
                <div class="love-message">
                    <p id="message-line-1">äº²çˆ±çš„ï¼Œä»Šå¤©æ˜¯ä½ çš„ç”Ÿæ—¥</p>
                    <p id="message-line-2">æˆ‘æƒ³å‘Šè¯‰ä½ ï¼Œä½ æ˜¯æˆ‘ç”Ÿå‘½ä¸­æœ€ç¾å¥½çš„ç¤¼ç‰©</p>
                    <p id="message-line-3">æ¯ä¸€å¤©æœ‰ä½ çš„é™ªä¼´ï¼Œéƒ½æ˜¯ä¸Šå¤©çš„æ©èµ</p>
                    <p id="message-line-4">æˆ‘çˆ±ä½ ï¼Œä¸ä»…æ˜¯ä»Šå¤©ï¼Œè€Œæ˜¯æ°¸è¿œ</p>
                    <p id="message-line-5">æ„¿ä½ çš„ç¬‘å®¹æ°¸è¿œç¿çƒ‚</p>
                    <p id="message-line-7">æ„¿æˆ‘ä»¬çš„çˆ±æƒ…æ°¸è¿œç”œèœœ</p>
                    <p id="message-line-6">ç”Ÿæ—¥å¿«ä¹ï¼Œæˆ‘çš„å®è´ï¼</p>
                </div>
            </div>
            
            <!-- äº’åŠ¨æŒ‰é’® -->
            <div class="interactive-buttons">
                <button id="love-button" class="btn">ç‚¹å‡»è·å–çˆ±å¿ƒ</button>
                <button id="music-button" class="btn">æ’­æ”¾/æš‚åœéŸ³ä¹</button>
            </div>
        </main>
        
        <!-- é¡µè„š -->
        <footer>
            <p>ç”¨æˆ‘å…¨éƒ¨çš„çˆ±ï¼ŒçŒ®ç»™æˆ‘æœ€äº²çˆ±çš„ä½  ğŸ’–</p>
        </footer>
    </div>
    
    <!-- éŸ³é¢‘å…ƒç´  -->
    <audio id="background-music" loop autoplay>
        <source src="audio/birthday_music.ogg" type="audio/ogg">
        <source src="audio/birthday_music.mp3" type="audio/mpeg">
    </audio>
    
    <script src="script.js"></script>
    
    <script>
        // --- ç…§ç‰‡è½®æ’­åŠŸèƒ½ (ä¿ç•™æ‚¨å·²æœ‰çš„åŠŸèƒ½) ---
        (function() {
            const images = document.querySelectorAll('.slideshow-image');
            if (images.length === 0) return; // å¦‚æœæ²¡æœ‰å›¾ç‰‡ï¼Œåˆ™ä¸æ‰§è¡Œ
            let currentImageIndex = 0;
            const displayTime = 5000;

            // éšæœºé€‰æ‹©ç¬¬ä¸€ä¸ªæ˜¾ç¤ºçš„å›¾ç‰‡
            currentImageIndex = Math.floor(Math.random() * images.length);
            images[currentImageIndex].classList.add('active');

            function showNextImage() {
                images[currentImageIndex].classList.remove('active');
                let nextIndex;
                do {
                    nextIndex = Math.floor(Math.random() * images.length);
                } while (nextIndex === currentImageIndex && images.length > 1);
                currentImageIndex = nextIndex;
                images[currentImageIndex].classList.add('active');
            }

            setInterval(showNextImage, displayTime);
        })();

        // --- æ–°å¢ï¼šèƒŒæ™¯éŸ³ä¹æ’­æ”¾åŠŸèƒ½ ---
        (function() {
            const music = document.getElementById('background-music');
            const musicButton = document.getElementById('music-button');
            let hasInteracted = false; // æ ‡è®°ç”¨æˆ·æ˜¯å¦å·²äº’åŠ¨

            // å°è¯•æ’­æ”¾éŸ³ä¹çš„å‡½æ•°
            function tryPlayMusic() {
                // åªæœ‰åœ¨ç”¨æˆ·äº’åŠ¨è¿‡ï¼Œå¹¶ä¸”éŸ³ä¹æ˜¯æš‚åœçŠ¶æ€æ—¶æ‰å°è¯•æ’­æ”¾
                if (hasInteracted && music.paused) {
                    // .play() è¿”å›ä¸€ä¸ª Promiseï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å®ƒæ¥å¤„ç†å¯èƒ½å‘ç”Ÿçš„é”™è¯¯
                    music.play().catch(error => {
                        console.log("éŸ³ä¹æ’­æ”¾è¢«æµè§ˆå™¨é˜»æ­¢:", error);
                    });
                }
            }

            // æ’­æ”¾/æš‚åœæŒ‰é’®çš„é€»è¾‘
            musicButton.addEventListener('click', function() {
                hasInteracted = true; // ç‚¹å‡»æŒ‰é’®ä¹Ÿç®—ä½œäº’åŠ¨
                if (music.paused) {
                    music.play();
                } else {
                    music.pause();
                }
            });
            
            // ç›‘å¬æ•´ä¸ªé¡µé¢çš„ç¬¬ä¸€æ¬¡ç‚¹å‡»äº‹ä»¶ï¼Œç”¨äºè§¦å‘è‡ªåŠ¨æ’­æ”¾
            function onFirstInteraction() {
                hasInteracted = true;
                tryPlayMusic();
                // æˆåŠŸè§¦å‘ä¸€æ¬¡åï¼Œå°±ç§»é™¤è¿™ä¸ªç›‘å¬ï¼Œé¿å…é‡å¤æ‰§è¡Œ
                document.body.removeEventListener('click', onFirstInteraction);
                document.body.removeEventListener('touchstart', onFirstInteraction);
            }

            document.body.addEventListener('click', onFirstInteraction);
            document.body.addEventListener('touchstart', onFirstInteraction); // å…¼å®¹ç§»åŠ¨è®¾å¤‡è§¦æ‘¸

        })();
    </script>
</body>
</html>